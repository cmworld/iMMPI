<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>JSONTestRecordsStorage Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 858)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">iMMPI </a></h1>
				<a id="developerHome" href="../index.html">Frostbit</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">JSONTestRecordsStorage Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/trashStorage">&nbsp;&nbsp;&nbsp;&nbsp;trashStorage</option>
	
	
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/addNewTestRecord:">&nbsp;&nbsp;&nbsp;&nbsp;- addNewTestRecord:</option>
	
	<option value="//api/name/allTestRecords">&nbsp;&nbsp;&nbsp;&nbsp;- allTestRecords</option>
	
	<option value="//api/name/containsTestRecord:">&nbsp;&nbsp;&nbsp;&nbsp;- containsTestRecord:</option>
	
	<option value="//api/name/initWithDirectoryName:">&nbsp;&nbsp;&nbsp;&nbsp;- initWithDirectoryName:</option>
	
	<option value="//api/name/loadStoredTestRecords">&nbsp;&nbsp;&nbsp;&nbsp;- loadStoredTestRecords</option>
	
	<option value="//api/name/removeTestRecord:">&nbsp;&nbsp;&nbsp;&nbsp;- removeTestRecord:</option>
	
	<option value="//api/name/updateTestRecord:">&nbsp;&nbsp;&nbsp;&nbsp;- updateTestRecord:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/trashStorage">trashStorage</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addNewTestRecord:">addNewTestRecord:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/allTestRecords">allTestRecords</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/containsTestRecord:">containsTestRecord:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/initWithDirectoryName:">initWithDirectoryName:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/loadStoredTestRecords">loadStoredTestRecords</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/removeTestRecord:">removeTestRecord:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/updateTestRecord:">updateTestRecord:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="JSONTestRecordsStorage Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">JSONTestRecordsStorage Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Conforms to</td>
	<td class="specification-value"><a href="../Protocols/TestRecordStorage.html">TestRecordStorage</a></td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">JSONTestRecordsStorage.h<br />JSONTestRecordsStorage.m</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>An implementation of <a href="../Protocols/TestRecordStorage.html">TestRecordStorage</a> which stores each <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> object in JSON format in a separate file in Documents directory.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						<h3 class="subsubtitle task-title">Other Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/trashStorage">&nbsp;&nbsp;trashStorage</a></code>
		<span class="tooltip"><p>Another <a href="../Protocols/TestRecordStorage.html">TestRecordStorage</a> object which will be used to store records deleted
from the current storage.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/initWithDirectoryName:">&ndash;&nbsp;initWithDirectoryName:</a></code>
		<span class="tooltip"><p>Initializes the storage with a directory name to store the records within.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/addNewTestRecord:">&ndash;&nbsp;addNewTestRecord:</a></code>
		<span class="tooltip"><p>This method serializes the testRecord object in JSON format and saves it to disk. The file name is selected depending on the test record data and if the file with the same name already exists, it is not overwritten, and a new file name is selected to save the record.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/updateTestRecord:">&ndash;&nbsp;updateTestRecord:</a></code>
		<span class="tooltip"><p>This method serializes the testRecord object in JSON format ans saves it to disk. The test record file is overwritten as the result of this operation.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/containsTestRecord:">&ndash;&nbsp;containsTestRecord:</a></code>
		<span class="tooltip"><p>This method checks whether the provided <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> object does exist in the storage.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/loadStoredTestRecords">&ndash;&nbsp;loadStoredTestRecords</a></code>
		<span class="tooltip"><p>This method loads all JSON test record files and parses these into <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> objects.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/allTestRecords">&ndash;&nbsp;allTestRecords</a></code>
		<span class="tooltip"><p>This method returns all test records currently loaded.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						
						<h3 class="subsubtitle task-title">Other Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/removeTestRecord:">&ndash;&nbsp;removeTestRecord:</a></code>
		<span class="tooltip"><p>This method should remove the existing record from the storage.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/trashStorage" title="trashStorage"></a>
	<h3 class="subsubtitle method-title">trashStorage</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Another <a href="../Protocols/TestRecordStorage.html">TestRecordStorage</a> object which will be used to store records deleted
from the current storage.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (strong, nonatomic) id&lt;TestRecordStorage&gt; trashStorage</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Another <a href="../Protocols/TestRecordStorage.html">TestRecordStorage</a> object which will be used to store records deleted
from the current storage.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">JSONTestRecordsStorage.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/addNewTestRecord:" title="addNewTestRecord:"></a>
	<h3 class="subsubtitle method-title">addNewTestRecord:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This method serializes the testRecord object in JSON format and saves it to disk. The file name is selected depending on the test record data and if the file with the same name already exists, it is not overwritten, and a new file name is selected to save the record.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)addNewTestRecord:(id&lt;TestRecordProtocol&gt;)<em>testRecord</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>testRecord</em></dt>
			<dd><p>A <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> object to be added to the storage.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the record has been added to storage, NO otherwise.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method serializes the testRecord object in JSON format and saves it to disk. The file name is selected depending on the test record data and if the file with the same name already exists, it is not overwritten, and a new file name is selected to save the record.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">JSONTestRecordsStorage.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/allTestRecords" title="allTestRecords"></a>
	<h3 class="subsubtitle method-title">allTestRecords</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This method returns all test records currently loaded.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSArray *)allTestRecords</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>An array of <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> objects.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method returns all test records currently loaded.</p>

<p>This method does create a new NSArray instance with the list of test records currently loaded, so it should not be called too often for performance reasons.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">JSONTestRecordsStorage.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/containsTestRecord:" title="containsTestRecord:"></a>
	<h3 class="subsubtitle method-title">containsTestRecord:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This method checks whether the provided <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> object does exist in the storage.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)containsTestRecord:(id&lt;TestRecordProtocol&gt;)<em>testRecord</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>testRecord</em></dt>
			<dd><p>A <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> object to be searched within storage.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the record does exist in storage, NO otherwise.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method checks whether the provided <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> object does exist in the storage.</p>

<p>Test records are compared by reference.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">JSONTestRecordsStorage.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/initWithDirectoryName:" title="initWithDirectoryName:"></a>
	<h3 class="subsubtitle method-title">initWithDirectoryName:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Initializes the storage with a directory name to store the records within.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)initWithDirectoryName:(NSString *)<em>storageDirectoryName</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>storageDirectoryName</em></dt>
			<dd><p>Name of a directory to store the records within.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Initializes the storage with a directory name to store the records within.</p>

<p>The subdirectory with a given name is created in Documents directory to store the records, so all the files will be backed up to iCloud by default.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">JSONTestRecordsStorage.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/loadStoredTestRecords" title="loadStoredTestRecords"></a>
	<h3 class="subsubtitle method-title">loadStoredTestRecords</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This method loads all JSON test record files and parses these into <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> objects.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)loadStoredTestRecords</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if operation succeeded, NO otherwise.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method loads all JSON test record files and parses these into <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> objects.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">JSONTestRecordsStorage.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/removeTestRecord:" title="removeTestRecord:"></a>
	<h3 class="subsubtitle method-title">removeTestRecord:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This method should remove the existing record from the storage.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)removeTestRecord:(id&lt;TestRecordProtocol&gt;)<em>testRecord</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>testRecord</em></dt>
			<dd><p>A <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> object to be removed from the persistent storage.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the record existed in storage and has been successfully removed. NO if removal failed or record does not exist.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method should remove the existing record from the storage.</p>

<p>If the record does not yet exist in storage, this method should do nothing and return NO.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">TestRecordStorageProtocol.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/updateTestRecord:" title="updateTestRecord:"></a>
	<h3 class="subsubtitle method-title">updateTestRecord:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This method serializes the testRecord object in JSON format ans saves it to disk. The test record file is overwritten as the result of this operation.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)updateTestRecord:(id&lt;TestRecordProtocol&gt;)<em>testRecord</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>testRecord</em></dt>
			<dd><p>A <a href="../Protocols/TestRecordProtocol.html">TestRecordProtocol</a> object to be updated in the persistent storage.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the record exists in storage and has been successfully updated. NO if update failed or record does not exist.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method serializes the testRecord object in JSON format ans saves it to disk. The test record file is overwritten as the result of this operation.</p>

<p>If the record does not yet exist in storage, this method does nothing and returns NO.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">JSONTestRecordsStorage.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 Frostbit. All rights reserved. (Last updated: 2013-01-05)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 858)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>